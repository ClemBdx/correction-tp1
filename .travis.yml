language: java

addons:
  sonarcloud:
    organization: "clembdx"
    token: "$SONARCLOUD_TOKEN"

jobs:
  include:
    - stage: dev
      script: bash scripts/build.sh
    - stage: prod
      script: bash scripts/docker_push.sh

branches:
  only:
    - develop

cache:
  directories:
    - $HOME/.m2

services:
  - docker

